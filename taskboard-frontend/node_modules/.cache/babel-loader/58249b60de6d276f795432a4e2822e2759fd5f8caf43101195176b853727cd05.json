{"ast":null,"code":"import{Box,Button,FormControl,FormLabel,Input,Stack,Typography}from\"@mui/joy\";import{useState}from\"react\";import{useAuth}from\"../../context/AuthContext\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterForm(){const{register}=useAuth();const navigate=useNavigate();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();try{await register(email.toLowerCase(),password);navigate(\"/dashboard\");}catch(err){if(err.response&&err.response.data){setError(err.response.data.description||\"Ошибка регистрации\");}else{setError(err.message||\"Произошла неизвестная ошибка\");}}};return/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{my:\"auto\",py:2,pb:5,width:400,maxWidth:\"100%\",mx:\"auto\",borderRadius:\"sm\"},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsx(Typography,{level:\"h3\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"danger\",level:\"body-sm\",children:error}),/*#__PURE__*/_jsxs(FormControl,{required:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"email@example.com\"})]}),/*#__PURE__*/_jsxs(FormControl,{required:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",placeholder:\"*******\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"space-between\",children:/*#__PURE__*/_jsx(Typography,{level:\"body-sm\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"\\u0415\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"})})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})})});}","map":{"version":3,"names":["Box","Button","FormControl","FormLabel","Input","Stack","Typography","useState","useAuth","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","RegisterForm","register","navigate","email","setEmail","password","setPassword","error","setError","handleSubmit","e","preventDefault","toLowerCase","err","response","data","description","message","component","sx","my","py","pb","width","maxWidth","mx","borderRadius","children","onSubmit","spacing","level","color","required","type","value","onChange","target","placeholder","display","justifyContent","to","fullWidth"],"sources":["/Users/exist/Desktop/work/taskboard-frontend/src/components/auth/RegisterForm.tsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  FormControl,\n  FormLabel,\n  Input,\n  Stack,\n  Typography,\n} from \"@mui/joy\";\nimport { useState } from \"react\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nexport default function RegisterForm() {\n  const { register } = useAuth();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await register(email.toLowerCase(), password);\n      navigate(\"/dashboard\");\n    } catch (err: any) {\n      if (err.response && err.response.data) {\n        setError(err.response.data.description || \"Ошибка регистрации\");\n      } else {\n        setError(err.message || \"Произошла неизвестная ошибка\");\n      }\n    }\n  };\n\n  return (\n    <Box\n      component=\"main\"\n      sx={{\n        my: \"auto\",\n        py: 2,\n        pb: 5,\n        width: 400,\n        maxWidth: \"100%\",\n        mx: \"auto\",\n        borderRadius: \"sm\",\n      }}\n    >\n      <form onSubmit={handleSubmit}>\n        <Stack spacing={3}>\n          <Typography level=\"h3\">Регистрация</Typography>\n\n          {error && (\n            <Typography color=\"danger\" level=\"body-sm\">\n              {error}\n            </Typography>\n          )}\n\n          <FormControl required>\n            <FormLabel>Email</FormLabel>\n            <Input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"email@example.com\"\n            />\n          </FormControl>\n\n          <FormControl required>\n            <FormLabel>Пароль</FormLabel>\n            <Input\n              type=\"password\"\n              placeholder=\"*******\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </FormControl>\n\n          <Box display=\"flex\" justifyContent=\"space-between\">\n            <Typography level=\"body-sm\">\n              <Link to=\"/login\">Есть аккаунт?</Link>\n            </Typography>\n          </Box>\n\n          <Button type=\"submit\" fullWidth>\n            Зарегистрироваться\n          </Button>\n        </Stack>\n      </form>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}