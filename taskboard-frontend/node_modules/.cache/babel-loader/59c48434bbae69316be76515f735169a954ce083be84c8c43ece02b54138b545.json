{"ast":null,"code":"import{Modal,ModalDialog,ModalClose,Typography,FormControl,FormLabel,Input,Textarea,Select,Option,Button}from\"@mui/joy\";import React from\"react\";import{createTask}from\"../../../api/task\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateTaskModal(_ref){let{open,onClose,onTaskCreated}=_ref;const[title,setTitle]=React.useState(\"\");const[description,setDescription]=React.useState(\"\");const[dueDate,setDueDate]=React.useState(\"\");const[status,setStatus]=React.useState(\"NEW\");const handleCreate=async()=>{if(!title.trim()){alert(\"Введите название задачи\");return;}try{await createTask({title,description,status,dueDate});onClose();setTitle(\"\");setDescription(\"\");setDueDate(\"\");setStatus(\"NEW\");onTaskCreated();}catch(err){console.error(err);alert(\"Ошибка при создании задачи\");}};return/*#__PURE__*/_jsx(Modal,{open:open,onClose:onClose,children:/*#__PURE__*/_jsxs(ModalDialog,{children:[/*#__PURE__*/_jsx(ModalClose,{}),/*#__PURE__*/_jsx(Typography,{level:\"h4\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Input,{value:title,onChange:e=>setTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(Textarea,{minRows:3,value:description,onChange:e=>setDescription(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u0421\\u0440\\u043E\\u043A \\u0432\\u044B\\u043F\\u043E\\u043B\\u043D\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(Input,{type:\"date\",value:dueDate,onChange:e=>setDueDate(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsxs(Select,{value:status,onChange:(_,value)=>value&&setStatus(value),children:[/*#__PURE__*/_jsx(Option,{value:\"NEW\",children:\"New\"}),/*#__PURE__*/_jsx(Option,{value:\"IN_PROGRESS\",children:\"In progress\"}),/*#__PURE__*/_jsx(Option,{value:\"COMPLETED\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleCreate,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]})});}","map":{"version":3,"names":["Modal","ModalDialog","ModalClose","Typography","FormControl","FormLabel","Input","Textarea","Select","Option","Button","React","createTask","jsx","_jsx","jsxs","_jsxs","CreateTaskModal","_ref","open","onClose","onTaskCreated","title","setTitle","useState","description","setDescription","dueDate","setDueDate","status","setStatus","handleCreate","trim","alert","err","console","error","children","level","value","onChange","e","target","minRows","type","_","onClick"],"sources":["/Users/exist/Desktop/work/taskboard-frontend/src/components/dashboard/sidebar/CreateTaskModal.tsx"],"sourcesContent":["import {\n  Modal,\n  ModalDialog,\n  ModalClose,\n  Typography,\n  FormControl,\n  FormLabel,\n  Input,\n  Textarea,\n  Select,\n  Option,\n  Button,\n} from \"@mui/joy\";\nimport React from \"react\";\nimport { createTask } from \"../../../api/task\";\n\ninterface CreateTaskModalProps {\n  open: boolean;\n  onClose: () => void;\n  onTaskCreated: () => void;\n}\n\nexport default function CreateTaskModal({ open, onClose, onTaskCreated }: CreateTaskModalProps) {\n  const [title, setTitle] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const [dueDate, setDueDate] = React.useState(\"\");\n  const [status, setStatus] = React.useState<\"NEW\" | \"IN_PROGRESS\" | \"COMPLETED\">(\"NEW\");\n\n  const handleCreate = async () => {\n    if (!title.trim()) {\n      alert(\"Введите название задачи\");\n      return;\n    }\n\n    try {\n      await createTask({ title, description, status, dueDate });\n      onClose();\n      setTitle(\"\");\n      setDescription(\"\");\n      setDueDate(\"\");\n      setStatus(\"NEW\");\n      onTaskCreated();\n    } catch (err) {\n      console.error(err);\n      alert(\"Ошибка при создании задачи\");\n    }\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <ModalDialog>\n        <ModalClose />\n        <Typography level=\"h4\">Создать новую задачу</Typography>\n\n        <FormControl>\n          <FormLabel>Название</FormLabel>\n          <Input value={title} onChange={(e) => setTitle(e.target.value)} />\n        </FormControl>\n\n        <FormControl>\n          <FormLabel>Описание</FormLabel>\n          <Textarea minRows={3} value={description} onChange={(e) => setDescription(e.target.value)} />\n        </FormControl>\n\n        <FormControl>\n          <FormLabel>Срок выполнения</FormLabel>\n          <Input type=\"date\" value={dueDate} onChange={(e) => setDueDate(e.target.value)} />\n        </FormControl>\n\n        <FormControl>\n          <FormLabel>Статус</FormLabel>\n          <Select value={status} onChange={(_, value) => value && setStatus(value)}>\n            <Option value=\"NEW\">New</Option>\n            <Option value=\"IN_PROGRESS\">In progress</Option>\n            <Option value=\"COMPLETED\">Completed</Option>\n          </Select>\n        </FormControl>\n\n        <Button onClick={handleCreate}>Создать</Button>\n      </ModalDialog>\n    </Modal>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}